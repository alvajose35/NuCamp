

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>JSON Example</title>
</head>
<body>

<!-- JSON OBJECTS - EXERCISE: MANIPULATING JSON -->
	<!-- <script type="text/javascript">

	let companies = `[
		{
			"name": "NuCamp",
			"number_of_employees": 150,
			"CEO": "Ludo Fourrage",
			"glassdoorRating": 5.0
		},
		{
			"name": "Small StartUp",
			"number_of_employees": 5,
			"CEO": null,
			"glassdoorRating": 4.7
		}
	]`;

	companies = JSON.parse(companies);
	// console.log(companies);

	companies.push({
		"name": "Microsoft",
		"number_of_employees": 150000,
		"CEO": "Satya Nadella",
		"glassdoorRating": 4.5
	});

	console.log(companies);

	let  companiesString = JSON.stringify(companies);

	console.log(companiesString);

	</script> -->

<!-- CODE CHALLENGE: JSON OBJECTS -->
	<script type="text/javascript">

		async function fetchHero() {
			const hero = await fetch(
				"https://www.superheroapi.com/api.php/1079471338910705/499"
			).then((response) => response.text());

  		// Step 1: print in the console the value of 'hero'. Check that it is a JSON in a string format
  		console.log(hero);
  
		// Step 2: transform this string into a JavaScript Object and console.log it
		let hero2 = JSON.parse(hero);
		console.log(hero2);
		
		// Step 3: using the function alert, display the name and the eye color of the Hero
		alert(`The hero's name is ${hero2.name} and his eye color is ${hero2.appearance["eye-color"]}.`);  // JSON.parse(hero).appearance.gender + JSON.parse(hero).name)

		// Step 4: create a new constant named 'myHero' following the same format. Same fields can be set as 'null'
		// Added another API call to see how the .json() results look like
		const batman = await fetch(
			"https://www.superheroapi.com/api.php/1079471338910705/69"
		).then((response) => response.json());
		
		// Step 5: create a new 'heroes' array and add both 'hero' and 'myHero' to it. Then create a stringified version of the array it using the JSON.stringify function, and console.log() it. ****/
		let heroes = [hero2, batman];
		console.log(JSON.stringify(heroes));
		}

		fetchHero();

	</script>

</body>
</html>